import{a as T,r as i,j as e}from"./index-D4v-KAf0.js";const E=()=>{const{trainers:u,dispatchTrainers:r,TRAINER_ACTIONS:o,sessions:h}=T(),[b,a]=i.useState(!1),[d,c]=i.useState(null),[x,j]=i.useState(""),[l,m]=i.useState({name:"",employeeId:"",email:"",phone:"",skill:""}),t=()=>{m({name:"",employeeId:"",email:"",phone:"",skill:""}),c(null)},N=()=>{t(),a(!0)},f=s=>{m(s),c(s),a(!0)},g=s=>{s.preventDefault(),r(d?{type:o.UPDATE_TRAINER,payload:{...l,id:d.id}}:{type:o.ADD_TRAINER,payload:l}),a(!1),t()},y=s=>{window.confirm("Delete this trainer?")&&r({type:o.DELETE_TRAINER,payload:s})},n=s=>{m({...l,[s.target.name]:s.target.value})},v=s=>h.filter(k=>k.trainerId===s).length,p=u.filter(s=>s.name.toLowerCase().includes(x.toLowerCase()));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Trainers"}),e.jsx("button",{onClick:N,className:"btn btn-primary",children:"Add Trainer"})]}),e.jsx("input",{type:"text",value:x,onChange:s=>j(s.target.value),placeholder:"Search trainers...",className:"w-full px-4 py-2 border rounded-lg"}),p.length===0?e.jsx("p",{className:"text-center py-8 text-gray-500",children:"No trainers found"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(s=>e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["ID: ",s.employeeId]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s.email}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.phone}),e.jsxs("p",{className:"text-sm font-medium mb-3",children:["Skills: ",s.skill]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[v(s.id)," sessions assigned"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>f(s),className:"btn btn-outline btn-sm flex-1",children:"Edit"}),e.jsx("button",{onClick:()=>y(s.id),className:"btn btn-danger btn-sm flex-1",children:"Delete"})]})]},s.id))}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>{a(!1),t()},children:e.jsxs("div",{className:"modal-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("span",{className:"font-semibold",children:d?"Edit Trainer":"Add Trainer"}),e.jsx("button",{className:"text-slate-600",onClick:()=>{a(!1),t()},children:"Ã—"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{onSubmit:g,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:l.name,onChange:n,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Employee ID"}),e.jsx("input",{type:"text",name:"employeeId",value:l.employeeId,onChange:n,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:l.email,onChange:n,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),e.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:n,className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skill"}),e.jsx("input",{type:"text",name:"skill",value:l.skill,onChange:n,className:"w-full px-3 py-2 border rounded-lg",placeholder:"e.g., React & JavaScript",required:!0})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx("button",{type:"button",className:"btn btn-outline flex-1",onClick:()=>{a(!1),t()},children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary flex-1",children:d?"Update":"Add"})]})]})})]})})]})};export{E as default};
